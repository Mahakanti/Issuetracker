<link rel="stylesheet" href="/css/projectDetails.css">


<section id="filter">
    <form id="navbar" action="/issueTracker/filterProjectDetails/" method="post">
<%# The action URL(Router) to which the form data will be submitted when the user submits the form. In this case.%>
        <div class="form-check form-switch">
            <input class="form-check-input" type="radio" name="formFilter" value="Project Title" id="formFilter1"
                required>
            <label class="form-check-label" for="formFilter1">Project Title</label>
<%# Label for avoiding difficulty, clicking on very small regions %>
        </div>
        <div class="form-check form-switch">
            <input class="form-check-input" type="radio" name="formFilter" value="Project Description" id="formFilter2"
                required>
            <label class="form-check-label" for="formFilter2">Project Description</label>
        </div>
        <div class="form-check form-switch">
            <input class="form-check-input" type="radio" name="formFilter" value="Project Author" id="formFilter3"
                required>
            <label class="form-check-label" for="formFilter">Project Author</label>
        </div>
        <button type="submit" class="btn btn-primary" style="color:rgb(234, 241, 238);background-color: rgba(20, 20, 20, 0.438);">Filter</button>
    </form>
</section>

<main class="projectDetailsMain">
    <% for(let project of projectDetails) { %>
<%# iterate on projectDetails array%>
        <div href="#" class="projectDetailsDiv">
            <h1>
                <%= project.projectName%>
            </h1>
            <small>
                <%= project.description%>
            </small>
            <p class="mb-3">- <%= project.authorName %>
            </p>

            <% if(project.bugs){%>
                <div id="bugBox">
                    <h1 class="text-center" id="bugfound"><i class="fa-solid fa-bug"></i> Bug Faced</h1>

                    <% for(let bug of project.bugs) { %>
                        <div>
                            <p >
                                <%= bug.issueName %>
                            </p>
                            <small style="color: rgb(43, 202, 255);">
                                <%= bug.issueDescription %>
                            </small>
                            <i style="display: block;margin-left: 5px 0;font-style: italic; ">
                                <%= bug.authorName %>
                            </i>
                        </div>
                        <% } %>
                </div>
                <% }else{ %>
                    <div id="bugBox">
                        <h1 class="text-center" id="nobug"><i class="fa fa-smile-o" aria-hidden="true"></i></i> No Bug Faced</h1>
                    </div>
                    <% } %>

                        <a href="/issueTracker/createAnIssue/<%= project._id %>" type="button" class="btn mt-4"
                            style="background-color: rgb(139, 127, 47) ;color:whitesmoke;">+ Create
                            Issue</a>
        </div>
        <% } %>
</main> 